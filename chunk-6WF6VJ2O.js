import{K as B,M as q}from"./chunk-GHD7EMHG.js";import{a as H,b as V,c as J}from"./chunk-XWHZXNLY.js";import"./chunk-UEN74SAI.js";import{d as $,l as G}from"./chunk-WGOP6L4K.js";import{a as X}from"./chunk-UDAWW7SC.js";import{B as F,C as U,e as z,j as N}from"./chunk-ZMH4YJYF.js";import{Ab as u,Cb as R,Cc as C,Db as A,Eb as O,Fb as b,Gb as a,Hb as i,Ib as v,Q as M,Ta as k,Tb as h,Ua as S,Xa as o,Xb as D,Y as s,Zb as m,ha as P,kb as T,lc as c,mc as p,nc as L,o as E,oa as f,ra as y,vc as j,yb as I,zb as g}from"./chunk-IYVNHVZX.js";function K(n,e){let r=!e?.manualCleanup?e?.injector?.get(P)??s(P):null,l=W(e?.equal),_;e?.requireSync?_=f({kind:0},{equal:l}):_=f({kind:1,value:e?.initialValue},{equal:l});let x,w=n.subscribe({next:d=>_.set({kind:1,value:d}),error:d=>{_.set({kind:2,error:d}),x?.()},complete:()=>{x?.()}});if(e?.requireSync&&_().kind===0)throw new M(601,!1);return x=r?.onDestroy(w.unsubscribe.bind(w)),C(()=>{let d=_();switch(d.kind){case 1:return d.value;case 2:throw d.error;case 0:throw new M(601,!1)}},{equal:e?.equal})}function W(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}var Y=()=>[1,2,3,4,5],Z=(n,e)=>e.slug;function ee(n,e){n&1&&v(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",10)(4,"div",10)(5,"div",10)(6,"div",10)(7,"div",8)(8,"div",11)}function te(n,e){n&1&&(a(0,"article",6),A(1,ee,9,0,null,null,R),i()),n&2&&(o(),O(j(0,Y)))}function ne(n,e){if(n&1&&(a(0,"span",20)(1,"time",21),c(2),i()()),n&2){let t=m(2);o(),I("datetime",t.date),o(),p(t.date)}}function ie(n,e){if(n&1&&(a(0,"div",15)(1,"span",19)(2,"mat-icon"),c(3,"schedule"),i(),c(4),i(),g(5,ne,3,2,"span",20),i()),n&2){let t=m(),r=m();o(4),L(" ",r.getReadingTimeText(t.readingTime)," "),o(),u(t.date?5:-1)}}function oe(n,e){if(n&1&&v(0,"img",23),n&2){let t=m(2);b("src",t.author.image,S)("alt",t.author.name)}}function re(n,e){n&1&&(a(0,"div",24)(1,"mat-icon"),c(2,"account_circle"),i()())}function ae(n,e){if(n&1&&(a(0,"aside",17)(1,"div",22),g(2,oe,1,2,"img",23)(3,re,3,0,"div",24),a(4,"div",25)(5,"h3",26),c(6),i(),a(7,"p",27),c(8),i(),a(9,"p",28),c(10),i()()()()),n&2){let t=m();o(2),u(t.author.image?2:3),o(4),p(t.author.name),o(2),p(t.author.title),o(2),p(t.author.bio)}}function le(n,e){if(n&1&&v(0,"app-blog-article-card",31),n&2){let t=e.$implicit;b("article",t)}}function ce(n,e){if(n&1&&(a(0,"section",18)(1,"h2",29),h(2,1),i(),a(3,"div",30),A(4,le,1,1,"app-blog-article-card",31,Z),i()()),n&2){let t=m(2);o(4),O(t.similarArticles())}}function se(n,e){if(n&1&&(a(0,"article",12)(1,"h1",13),c(2),i(),a(3,"p",14),c(4),i(),g(5,ie,6,2,"div",15),v(6,"div",16),g(7,ae,11,4,"aside",17),i(),g(8,ce,6,0,"section",18)),n&2){let t=e,r=m();o(2),p(t.title||"Article non trouv\xE9"),o(2),p(t.summary||"Aucun r\xE9sum\xE9 disponible"),o(),u(t.readingTime?5:-1),o(),b("innerHTML",t.content,k),o(),u(t.author?7:-1),o(),u(r.similarArticles().length>0?8:-1)}}function me(n,e){n&1&&(a(0,"p",7),h(1,2),i())}var Q=class n{blogData=s(V);route=s($);location=s(z);metaService=s(X);readingTimeService=s(H);slug=K(this.route.paramMap.pipe(E(e=>e.get("slug"))),{initialValue:this.route.snapshot.paramMap.get("slug")});loading=f(!0);article=f(void 0);similarArticles=C(()=>{let e=this.article();return e?this.blogData.articles().filter(r=>r.slug!==e.slug).filter(r=>(e.similarSlugs??[]).includes(r.slug)).slice(0,3):[]});constructor(){this.blogData.loadArticles(),y(()=>{let e=this.slug(),t=this.blogData.articles();if(this.blogData.loading()||t.length===0){this.loading.set(!0);return}let l=e?this.blogData.getBySlug(e):void 0;this.loading.set(!0),setTimeout(()=>{this.article.set(l),this.loading.set(!1),l&&this.metaService.updateArticleMeta(l.title,l.summary)},500)})}goBack(){this.location.back()}getReadingTimeText(e){return this.readingTimeService.formatReadingTime(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-article-page"]],decls:9,vars:1,consts:()=>{let e;e=$localize`:Blog page|Back to blog link:Retour`;let t;t=$localize`:Blog page|Similar articles heading:Articles similaires`;let r;return r=$localize`:Blog page|Article not found error:Article introuvable`,[e,t,r,[1,"container","blog-page"],["mat-button","","aria-label","Revenir \xE0 la page pr\xE9c\xE9dente",1,"back-button",3,"click"],[2,"font-size","larger"],["aria-busy","true",1,"blog-post","article-skeleton"],[1,"mat-body-1"],[1,"skeleton-title"],[1,"skeleton-summary"],[1,"skeleton-line"],[1,"skeleton-line","short"],["itemscope","","itemtype","https://schema.org/BlogPosting",1,"blog-post"],["itemprop","headline",1,"mat-display-2"],["itemprop","description",1,"mat-headline-5"],[1,"article-meta"],["itemprop","articleBody",1,"blog-content",3,"innerHTML"],["itemprop","author","itemscope","","itemtype","https://schema.org/Person",1,"author-bio-section"],["aria-label","Articles similaires",1,"similar-articles"],[1,"reading-time-badge"],[1,"article-date"],["itemprop","datePublished"],[1,"author-bio-container"],["itemprop","image",1,"author-image",3,"src","alt"],[1,"author-avatar"],[1,"author-info"],["itemprop","name",1,"author-name"],["itemprop","jobTitle",1,"author-title"],["itemprop","description",1,"author-bio"],[1,"similar-title"],[1,"similar-grid"],[3,"article"]]},template:function(t,r){if(t&1&&(a(0,"main",3)(1,"button",4),D("click",function(){return r.goBack()}),a(2,"mat-icon"),c(3,"arrow_back"),i(),a(4,"span",5),h(5,0),i()(),g(6,te,3,1,"article",6)(7,se,9,6)(8,me,2,0,"p",7),i()),t&2){let l;o(6),u(r.loading()?6:(l=r.article())?7:8,l)}},dependencies:[N,G,q,B,U,F,J],styles:[".blog-page[_ngcontent-%COMP%]{padding-bottom:clamp(1rem,3vw,2.5rem)}.blog-page[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:1.5rem}.blog-post[_ngcontent-%COMP%]{background:#fff;border-radius:clamp(.75rem,2vw,1.25rem);box-shadow:0 2px 12px #0000000f;padding:clamp(1rem,4vw,2.5rem);margin:0 auto clamp(1rem,3vw,2.5rem) auto;max-width:1200px;font-size:1.1rem}.blog-post[_ngcontent-%COMP%]     h1{color:var(--mat-button-filled-container-color);margin-top:2rem;margin-bottom:1rem;font-weight:600}.blog-content[_ngcontent-%COMP%]{text-align:justify}.blog-content[_ngcontent-%COMP%]     h2{color:var(--mat-button-filled-container-color);margin-top:2rem;margin-bottom:1rem;font-size:1.85rem;font-weight:600}.blog-content[_ngcontent-%COMP%]     p, .blog-content[_ngcontent-%COMP%]     li{line-height:1.5;margin-bottom:1rem}.mat-display-2[_ngcontent-%COMP%]{color:var(--mat-primary-color);margin-bottom:clamp(1rem,2vw,1.5rem);font-size:clamp(1.6rem,4.2vw,2.7rem)}.mat-headline-5[_ngcontent-%COMP%]{color:var(--mat-text-secondary-color);margin-bottom:clamp(.75rem,2vw,1.5rem);font-size:clamp(1.15rem,2.7vw,1.35rem)}.article-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:clamp(1rem,3vw,2rem);padding-bottom:clamp(.75rem,2vw,1rem);border-bottom:1px solid var(--mat-divider-color);flex-wrap:wrap}.reading-time-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .75rem;background:var(--mat-sys-surface-container-low);border-radius:1rem;font-size:.875rem;color:var(--mat-text-secondary-color)}.reading-time-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;line-height:1rem}.article-date[_ngcontent-%COMP%]{font-size:.875rem;color:var(--mat-text-secondary-color)}.author-bio-section[_ngcontent-%COMP%]{margin-top:clamp(2rem,4vw,3rem);padding:clamp(1.5rem,3vw,2rem);background:var(--mat-sys-surface-container-low);border-radius:clamp(.75rem,2vw,1rem);border:1px solid var(--mat-divider-color)}.author-bio-container[_ngcontent-%COMP%]{display:flex;gap:clamp(1rem,3vw,1.5rem);align-items:flex-start}.author-image[_ngcontent-%COMP%], .author-avatar[_ngcontent-%COMP%]{flex-shrink:0;width:clamp(80px,15vw,120px);height:clamp(80px,15vw,120px);border-radius:50%;object-fit:cover;background:var(--mat-sys-surface-variant);display:flex;align-items:center;justify-content:center}.author-image.author-image[_ngcontent-%COMP%], .author-avatar.author-image[_ngcontent-%COMP%]{border:2px solid var(--mat-primary-color)}.author-avatar[_ngcontent-%COMP%]{border:2px solid var(--mat-primary-color);color:var(--mat-primary-color)}.author-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;line-height:3rem}.author-info[_ngcontent-%COMP%]{flex:1;min-width:0}.author-name[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:clamp(1.1rem,2vw,1.3rem);font-weight:600;color:var(--mat-primary-color)}.author-title[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.95rem;font-weight:500;color:var(--mat-text-secondary-color)}.author-bio[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:var(--mat-text-secondary-color);line-height:1.6}@media(max-width:600px){.author-bio-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.author-image[_ngcontent-%COMP%], .author-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.author-info[_ngcontent-%COMP%]{width:100%}}.article-skeleton[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:500px}.article-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], .article-skeleton[_ngcontent-%COMP%]   .skeleton-summary[_ngcontent-%COMP%], .article-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{border-radius:.25rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.article-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{height:clamp(1.5rem,3vw,2.25rem);width:75%}.article-skeleton[_ngcontent-%COMP%]   .skeleton-summary[_ngcontent-%COMP%]{height:clamp(1rem,2.5vw,1.5rem);width:95%}.article-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:.9rem;width:100%}.article-skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:65%}.similar-articles[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.similar-title[_ngcontent-%COMP%]{font-size:clamp(1.1rem,3vw,1.5rem);font-weight:600;margin:0 0 1rem;color:var(--mat-primary-color)}.similar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));grid-auto-rows:1fr;gap:clamp(1rem,3vw,1.5rem);align-items:stretch}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@media(max-width:1100px){.similar-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:1rem}}@media(max-width:400px){.container[_ngcontent-%COMP%]{padding:.5rem!important}.blog-post[_ngcontent-%COMP%]{padding:.5rem;margin:0 auto .5rem;border-radius:.5rem}.mat-display-2[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}.mat-headline-5[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}}"]})};export{Q as ArticlePage};
