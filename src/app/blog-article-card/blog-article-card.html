<article class="blog-card" itemscope itemtype="https://schema.org/BlogPosting">
	<a [routerLink]="['/blog', article().slug]" itemprop="url">
		<mat-card class="blog-article-card">
			<mat-card-header>
				<mat-card-title-group>
					<mat-card-title itemprop="headline">{{ article().title }}</mat-card-title>
					<mat-card-subtitle itemprop="description">{{ article().summary }}</mat-card-subtitle>
					<img
						mat-card-sm-image
						[ngSrc]="article().image ?? 'assets/blog/images/andy-barbour.webp'"
						[alt]="article().title"
						width="320"
						height="180"
						loading="lazy"
					/>
				</mat-card-title-group>
			</mat-card-header>
			<mat-card-content>
				@if (article().date) {
				<meta itemprop="datePublished" [content]="article().date" />
				}
			</mat-card-content>
			<div class="card-footer">
				@if (article().date) {
				<div class="card-date">
					<mat-icon>date_range</mat-icon>
					<span>{{ article().date | date: 'dd/MM/yyyy'}}</span>
				</div>
				} @if (readingTimeText()) {
				<div class="card-reading-time">
					<mat-icon>schedule</mat-icon>
					<span>{{ readingTimeText() }}</span>
				</div>
				}
				<div class="card-favorite">
					<button mat-icon-button aria-label="Enregistrer l'article" (click)="toggleFavorite($event)">
						<mat-icon
							[style]="isFavorite() ? 'scale: 1.5; transition: 0.3s;' : 'scale: 1; transition: 0.3s'"
							[class.favorited]="isFavorite()"
							>{{ isFavorite() ? 'star_shine' : 'star' }}</mat-icon
						>
					</button>
				</div>
			</div>
		</mat-card>
	</a>
</article>
