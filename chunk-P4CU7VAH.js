import{I as G,K as B}from"./chunk-T27FJX67.js";import{a as X,b as H,c as V}from"./chunk-YTO6L3A4.js";import"./chunk-UEN74SAI.js";import{d as $,l as z}from"./chunk-WGOP6L4K.js";import{a as U}from"./chunk-UDAWW7SC.js";import{B as q,C as F,e as j,j as N}from"./chunk-ZMH4YJYF.js";import{Ab as u,Cb as I,Cc as C,Db as w,Eb as A,Fb as b,Gb as a,Hb as i,Ib as v,Q as M,Ta as k,Tb as h,Ua as S,Xa as r,Xb as R,Y as s,Zb as m,ha as P,kb as T,lc as c,mc as p,nc as D,o as E,oa as f,ra as y,vc as L,zb as g}from"./chunk-IYVNHVZX.js";function J(t,e){let o=!e?.manualCleanup?e?.injector?.get(P)??s(P):null,l=Q(e?.equal),_;e?.requireSync?_=f({kind:0},{equal:l}):_=f({kind:1,value:e?.initialValue},{equal:l});let x,O=t.subscribe({next:d=>_.set({kind:1,value:d}),error:d=>{_.set({kind:2,error:d}),x?.()},complete:()=>{x?.()}});if(e?.requireSync&&_().kind===0)throw new M(601,!1);return x=o?.onDestroy(O.unsubscribe.bind(O)),C(()=>{let d=_();switch(d.kind){case 1:return d.value;case 2:throw d.error;case 0:throw new M(601,!1)}},{equal:e?.equal})}function Q(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var W=()=>[1,2,3,4,5],Y=(t,e)=>e.slug;function Z(t,e){t&1&&v(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",9)(4,"div",9)(5,"div",9)(6,"div",9)(7,"div",7)(8,"div",10)}function ee(t,e){t&1&&(a(0,"article",5),w(1,Z,9,0,null,null,I),i()),t&2&&(r(),A(L(0,W)))}function te(t,e){if(t&1&&(a(0,"span",19),c(1),i()),t&2){let n=m(2);r(),p(n.date)}}function ne(t,e){if(t&1&&(a(0,"div",14)(1,"span",18)(2,"mat-icon"),c(3,"schedule"),i(),c(4),i(),g(5,te,2,1,"span",19),i()),t&2){let n=m(),o=m();r(4),D(" ",o.getReadingTimeText(n.readingTime)," "),r(),u(n.date?5:-1)}}function ie(t,e){if(t&1&&v(0,"img",21),t&2){let n=m(2);b("src",n.author.image,S)("alt",n.author.name)}}function oe(t,e){t&1&&(a(0,"div",22)(1,"mat-icon"),c(2,"account_circle"),i()())}function re(t,e){if(t&1&&(a(0,"aside",16)(1,"div",20),g(2,ie,1,2,"img",21)(3,oe,3,0,"div",22),a(4,"div",23)(5,"h3",24),c(6),i(),a(7,"p",25),c(8),i(),a(9,"p",26),c(10),i()()()()),t&2){let n=m();r(2),u(n.author.image?2:3),r(4),p(n.author.name),r(2),p(n.author.title),r(2),p(n.author.bio)}}function ae(t,e){if(t&1&&v(0,"app-blog-article-card",29),t&2){let n=e.$implicit;b("article",n)}}function le(t,e){if(t&1&&(a(0,"section",17)(1,"h2",27),h(2,1),i(),a(3,"div",28),w(4,ae,1,1,"app-blog-article-card",29,Y),i()()),t&2){let n=m(2);r(4),A(n.similarArticles())}}function ce(t,e){if(t&1&&(a(0,"article",11)(1,"h1",12),c(2),i(),a(3,"p",13),c(4),i(),g(5,ne,6,2,"div",14),v(6,"div",15),g(7,re,11,4,"aside",16),i(),g(8,le,6,0,"section",17)),t&2){let n=e,o=m();r(2),p(n.title||"Article non trouv\xE9"),r(2),p(n.summary||"Aucun r\xE9sum\xE9 disponible"),r(),u(n.readingTime?5:-1),r(),b("innerHTML",n.content,k),r(),u(n.author?7:-1),r(),u(o.similarArticles().length>0?8:-1)}}function se(t,e){t&1&&(a(0,"p",6),h(1,2),i())}var K=class t{blogData=s(H);route=s($);location=s(j);metaService=s(U);readingTimeService=s(X);slug=J(this.route.paramMap.pipe(E(e=>e.get("slug"))),{initialValue:this.route.snapshot.paramMap.get("slug")});loading=f(!0);article=f(void 0);similarArticles=C(()=>{let e=this.article();return e?this.blogData.articles().filter(o=>o.slug!==e.slug).filter(o=>(e.similarSlugs??[]).includes(o.slug)).slice(0,3):[]});constructor(){this.blogData.loadArticles(),y(()=>{let e=this.slug(),n=this.blogData.articles();if(this.blogData.loading()||n.length===0){this.loading.set(!0);return}let l=e?this.blogData.getBySlug(e):void 0;this.loading.set(!0),setTimeout(()=>{this.article.set(l),this.loading.set(!1),l&&this.metaService.updateArticleMeta(l.title,l.summary)},500)})}goBack(){this.location.back()}getReadingTimeText(e){return this.readingTimeService.formatReadingTime(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=T({type:t,selectors:[["app-article-page"]],decls:9,vars:1,consts:()=>{let e;e=$localize`:Blog page|Back to blog link:Retour`;let n;n=$localize`:Blog page|Similar articles heading:Articles similaires`;let o;return o=$localize`:Blog page|Article not found error:Article introuvable`,[e,n,o,[1,"container","blog-page"],["mat-button","","aria-label","Revenir \xE0 la page pr\xE9c\xE9dente",1,"back-button",3,"click"],["aria-busy","true",1,"blog-post","article-skeleton"],[1,"mat-body-1"],[1,"skeleton-title"],[1,"skeleton-summary"],[1,"skeleton-line"],[1,"skeleton-line","short"],[1,"blog-post"],[1,"mat-display-2"],[1,"mat-headline-5"],[1,"article-meta"],[1,"blog-content",3,"innerHTML"],[1,"author-bio-section"],["aria-label","Articles similaires",1,"similar-articles"],[1,"reading-time-badge"],[1,"article-date"],[1,"author-bio-container"],[1,"author-image",3,"src","alt"],[1,"author-avatar"],[1,"author-info"],[1,"author-name"],[1,"author-title"],[1,"author-bio"],[1,"similar-title"],[1,"similar-grid"],[3,"article"]]},template:function(n,o){if(n&1&&(a(0,"main",3)(1,"button",4),R("click",function(){return o.goBack()}),a(2,"mat-icon"),c(3,"arrow_back"),i(),a(4,"span"),h(5,0),i()(),g(6,ee,3,1,"article",5)(7,ce,9,6)(8,se,2,0,"p",6),i()),n&2){let l;r(6),u(o.loading()?6:(l=o.article())?7:8,l)}},dependencies:[N,z,B,G,F,q,V],styles:[".blog-page[_ngcontent-%COMP%]{padding-bottom:clamp(1rem,3vw,2.5rem)}.blog-page[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:1.5rem}.blog-post[_ngcontent-%COMP%]{background:#fff;border-radius:clamp(.75rem,2vw,1.25rem);box-shadow:0 2px 12px #0000000f;padding:clamp(1rem,4vw,2.5rem);margin:0 auto clamp(1rem,3vw,2.5rem) auto;max-width:800px}.blog-post[_ngcontent-%COMP%]     h1{color:var(--mat-button-filled-container-color);margin-top:2rem;margin-bottom:1rem;font-weight:600}.blog-content[_ngcontent-%COMP%]     h2{color:var(--mat-button-filled-container-color);margin-top:2rem;margin-bottom:1rem;font-size:1.5rem;font-weight:600}.mat-display-2[_ngcontent-%COMP%]{color:var(--mat-primary-color);margin-bottom:clamp(1rem,2vw,1.5rem);font-size:clamp(1.5rem,4vw,2.5rem)}.mat-headline-5[_ngcontent-%COMP%]{color:var(--mat-text-secondary-color);margin-bottom:clamp(.75rem,2vw,1.5rem);font-size:clamp(1.05rem,2.5vw,1.25rem)}.article-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:clamp(1rem,3vw,2rem);padding-bottom:clamp(.75rem,2vw,1rem);border-bottom:1px solid var(--mat-divider-color);flex-wrap:wrap}.reading-time-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .75rem;background:var(--mat-sys-surface-container-low);border-radius:1rem;font-size:.875rem;color:var(--mat-text-secondary-color)}.reading-time-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;line-height:1rem}.article-date[_ngcontent-%COMP%]{font-size:.875rem;color:var(--mat-text-secondary-color)}.author-bio-section[_ngcontent-%COMP%]{margin-top:clamp(2rem,4vw,3rem);padding:clamp(1.5rem,3vw,2rem);background:var(--mat-sys-surface-container-low);border-radius:clamp(.75rem,2vw,1rem);border:1px solid var(--mat-divider-color)}.author-bio-container[_ngcontent-%COMP%]{display:flex;gap:clamp(1rem,3vw,1.5rem);align-items:flex-start}.author-image[_ngcontent-%COMP%], .author-avatar[_ngcontent-%COMP%]{flex-shrink:0;width:clamp(80px,15vw,120px);height:clamp(80px,15vw,120px);border-radius:50%;object-fit:cover;background:var(--mat-sys-surface-variant);display:flex;align-items:center;justify-content:center}.author-image.author-image[_ngcontent-%COMP%], .author-avatar.author-image[_ngcontent-%COMP%]{border:2px solid var(--mat-primary-color)}.author-avatar[_ngcontent-%COMP%]{border:2px solid var(--mat-primary-color);color:var(--mat-primary-color)}.author-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;line-height:3rem}.author-info[_ngcontent-%COMP%]{flex:1;min-width:0}.author-name[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:clamp(1.1rem,2vw,1.3rem);font-weight:600;color:var(--mat-primary-color)}.author-title[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.95rem;font-weight:500;color:var(--mat-text-secondary-color)}.author-bio[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:var(--mat-text-secondary-color);line-height:1.6}@media(max-width:600px){.author-bio-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.author-image[_ngcontent-%COMP%], .author-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.author-info[_ngcontent-%COMP%]{width:100%}}.article-skeleton[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:500px}.article-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], .article-skeleton[_ngcontent-%COMP%]   .skeleton-summary[_ngcontent-%COMP%], .article-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{border-radius:.25rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.article-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{height:clamp(1.5rem,3vw,2.25rem);width:75%}.article-skeleton[_ngcontent-%COMP%]   .skeleton-summary[_ngcontent-%COMP%]{height:clamp(1rem,2.5vw,1.5rem);width:95%}.article-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:.9rem;width:100%}.article-skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:65%}.similar-articles[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:0 clamp(1rem,4vw,2.5rem) clamp(1rem,3vw,2.5rem)}.similar-title[_ngcontent-%COMP%]{font-size:clamp(1.1rem,3vw,1.5rem);font-weight:600;margin:0 0 1rem;color:var(--mat-primary-color)}.similar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));grid-auto-rows:1fr;gap:clamp(1rem,3vw,1.5rem);align-items:stretch}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@media(max-width:900px){.similar-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:1rem}}@media(max-width:400px){.blog-post[_ngcontent-%COMP%]{padding:.5rem;margin:0 auto .5rem;border-radius:.5rem}.mat-display-2[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}.mat-headline-5[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}}"]})};export{K as ArticlePage};
