import{a as Mt,b as St,c as At,d as kt}from"./chunk-CBEIFYHZ.js";import{b as xt}from"./chunk-3PB6D4W4.js";import{a as ct,b as dt,c as bt,d as Ct}from"./chunk-CGEIGU63.js";import{a as oe,b as ae}from"./chunk-3NW5THVA.js";import{a as ie,c as pt,d as ht,e as gt,g as ne,i as ft,l as _t}from"./chunk-EGG45MAL.js";import{a as ge,b as mt,c as ut,f as L,g as F}from"./chunk-BSEOXVXJ.js";import{a as vt}from"./chunk-QWH4EUX3.js";import"./chunk-RUWWUD7R.js";import{d as Ze,g as Je,l as Ke}from"./chunk-FSZ6IJW5.js";import{a as yt}from"./chunk-2NYI57SS.js";import"./chunk-G5NYKR63.js";import{$c as Z,Aa as Ie,Ab as Ne,B as k,Ba as Re,Bb as ze,Cb as $e,Da as Be,Ea as H,Eb as Ge,Fb as He,Gb as Ve,I as ke,Ib as qe,Ic as Y,Ka as C,Kc as et,La as V,Lb as d,Mb as f,N as ce,Na as q,Nb as Ue,Nc as tt,Oa as U,Q as N,R as z,T as x,Tc as it,V as l,Vb as Qe,Wc as nt,Xa as D,Xc as ot,Ya as Le,Z as w,Za as M,Zc as at,_ as P,_a as S,_c as rt,a as _,ab as Fe,ac as W,b as le,ba as b,bb as me,ca as we,cb as ue,da as de,db as I,dc as We,eb as r,f as y,fa as $,fb as s,fc as Xe,ga as Pe,gb as Q,ja as v,ka as G,kd as A,lb as je,md as pe,n as Me,pa as De,pb as R,pc as Ye,ra as Ee,rd as st,s as Se,sd as he,td as lt,ua as Oe,ub as h,uc as X,v as Ae,va as Te,vc as B,vd as J,w as T,wb as g,xd as K,ya as u,yd as ee,zd as te}from"./chunk-TWZORI46.js";function wt(o,n){let t=!n?.manualCleanup?n?.injector?.get(de)??l(de):null,i=Rt(n?.equal),a;n?.requireSync?a=v({kind:0},{equal:i}):a=v({kind:1,value:n?.initialValue},{equal:i});let c,m=o.subscribe({next:p=>a.set({kind:1,value:p}),error:p=>{a.set({kind:2,error:p}),c?.()},complete:()=>{c?.()}});if(n?.requireSync&&a().kind===0)throw new ce(601,!1);return c=t?.onDestroy(m.unsubscribe.bind(m)),W(()=>{let p=a();switch(p.kind){case 1:return p.value;case 2:throw p.error;case 0:throw new ce(601,!1)}},{equal:n?.equal})}function Rt(o=Object.is){return(n,e)=>n.kind===1&&e.kind===1&&o(n.value,e.value)}function Bt(o,n){}var E=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var be=(()=>{class o extends ut{_elementRef=l(De);_focusTrapFactory=l(ot);_config;_interactivityChecker=l(nt);_ngZone=l(Pe);_focusMonitor=l(tt);_renderer=l(Be);_changeDetectorRef=l(Xe);_injector=l(b);_platform=l(et);_document=l(we);_portalOutlet;_focusTrapped=new y;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=l(E,{optional:!0})||new E,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}attachDomPortal=e=>{this._portalOutlet.hasAttached();let t=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),t};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{a(),c(),e.removeAttribute("tabindex")},a=this._renderer.listen(e,"blur",i),c=this._renderer.listen(e,"mousedown",i)})),e.focus(t)}_focusByCssSelector(e,t){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,t)}_trapFocus(e){this._isDestroyed||Ie(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let i=Y(),a=this._elementRef.nativeElement;(!i||i===this._document.body||i===a||a.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,t=Y();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Y()))}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(t&1&&Ne(L,7),t&2){let a;ze(a=$e())&&(i._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){t&2&&D("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[q],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){t&1&&U(0,Bt,0,0,"ng-template",0)},dependencies:[L],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return o})(),j=class{overlayRef;config;componentInstance=null;componentRef=null;containerInstance;disableClose;closed=new y;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(n,e){this.overlayRef=n,this.config=e,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!Z(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=n.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(n,e){if(this._canClose(n)){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(n),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}_canClose(n){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(n,e,this.componentInstance))}},Lt=new x("DialogScrollStrategy",{providedIn:"root",factory:()=>{let o=l(b);return()=>ie(o)}}),Ft=new x("DialogData"),jt=new x("DefaultDialogConfig");function Nt(o){let n=v(o),e=new $;return{valueSignal:n,get value(){return n()},change:e,ngOnDestroy(){e.complete()}}}var ve=(()=>{class o{_injector=l(b);_defaultOptions=l(jt,{optional:!0});_parentDialog=l(o,{optional:!0,skipSelf:!0});_overlayContainer=l(ht);_idGenerator=l(rt);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new y;_afterOpenedAtThisLevel=new y;_ariaHiddenElements=new Map;_scrollStrategy=l(Lt);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Se(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ke(void 0)));constructor(){}open(e,t){let i=this._defaultOptions||new E;t=_(_({},i),t),t.id=t.id||this._idGenerator.getId("cdk-dialog-"),t.id&&this.getDialogById(t.id);let a=this._getOverlayConfig(t),c=ft(this._injector,a),m=new j(c,t),p=this._attachContainer(c,m,t);if(m.containerInstance=p,!this.openDialogs.length){let se=this._overlayContainer.getContainerElement();p._focusTrapped?p._focusTrapped.pipe(k(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(se)}):this._hideNonDialogContentFromAssistiveTechnology(se)}return this._attachDialogContent(e,m,p,t),this.openDialogs.push(m),m.closed.subscribe(()=>this._removeOpenDialog(m,!0)),this.afterOpened.next(m),m}closeAll(){fe(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){fe(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),fe(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new pt({positionStrategy:e.positionStrategy||ne().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,i){let a=i.injector||i.viewContainerRef?.injector,c=[{provide:E,useValue:i},{provide:j,useValue:t},{provide:gt,useValue:e}],m;i.container?typeof i.container=="function"?m=i.container:(m=i.container.type,c.push(...i.container.providers(i))):m=be;let p=new ge(m,i.viewContainerRef,b.create({parent:a||this._injector,providers:c}));return e.attach(p).instance}_attachDialogContent(e,t,i,a){if(e instanceof Re){let c=this._createInjector(a,t,i,void 0),m={$implicit:a.data,dialogRef:t};a.templateContext&&(m=_(_({},m),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),i.attachTemplatePortal(new mt(e,null,m,c))}else{let c=this._createInjector(a,t,i,this._injector),m=i.attachComponentPortal(new ge(e,a.viewContainerRef,c));t.componentRef=m,t.componentInstance=m.instance}}_createInjector(e,t,i,a){let c=e.injector||e.viewContainerRef?.injector,m=[{provide:Ft,useValue:e.data},{provide:j,useValue:t}];return e.providers&&(typeof e.providers=="function"?m.push(...e.providers(t,e,i)):m.push(...e.providers)),e.direction&&(!c||!c.get(he,null,{optional:!0}))&&m.push({provide:he,useValue:Nt(e.direction)}),b.create({parent:c||a,providers:m})}_removeOpenDialog(e,t){let i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let a=t[i];a!==e&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&!a.hasAttribute("popover")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(t){return new(t||o)};static \u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function fe(o,n){let e=o.length;for(;e--;)n(o[e])}var Dt=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=V({type:o});static \u0275inj=z({providers:[ve],imports:[_t,F,at,F]})}return o})();function zt(o,n){}var Et="_mat-bottom-sheet-enter",Ot="_mat-bottom-sheet-exit",$t=(()=>{class o extends be{_breakpointSubscription;_animationsDisabled=pe();_animationState="void";_animationStateChanged=new $;_destroyed=!1;constructor(){super();let e=l(it);this._breakpointSubscription=e.observe([A.Medium,A.Large,A.XLarge]).subscribe(()=>{let t=this._elementRef.nativeElement.classList;t.toggle("mat-bottom-sheet-container-medium",e.isMatched(A.Medium)),t.toggle("mat-bottom-sheet-container-large",e.isMatched(A.Large)),t.toggle("mat-bottom-sheet-container-xlarge",e.isMatched(A.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._animationsDisabled&&this._simulateAnimation(Et))}exit(){this._destroyed||(this._elementRef.nativeElement.setAttribute("mat-exit",""),this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._animationsDisabled&&this._simulateAnimation(Ot))}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_simulateAnimation(e){this._ngZone.run(()=>{this._handleAnimationEvent(!0,e),setTimeout(()=>this._handleAnimationEvent(!1,e))})}_trapFocus(){super._trapFocus({preventScroll:!0})}_handleAnimationEvent(e,t){let i=t===Et;(i||t===Ot)&&this._animationStateChanged.emit({toState:i?"visible":"hidden",phase:e?"start":"done"})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:9,hostBindings:function(t,i){t&1&&h("animationstart",function(c){return i._handleAnimationEvent(!0,c.animationName)})("animationend",function(c){return i._handleAnimationEvent(!1,c.animationName)})("animationcancel",function(c){return i._handleAnimationEvent(!1,c.animationName)}),t&2&&(D("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-label",i._config.ariaLabel),qe("mat-bottom-sheet-container-animations-enabled",!i._animationsDisabled)("mat-bottom-sheet-container-enter",i._animationState==="visible")("mat-bottom-sheet-container-exit",i._animationState==="hidden"))},features:[q],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){t&1&&U(0,zt,0,0,"ng-template",0)},dependencies:[L],styles:[`@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}
`],encapsulation:2})}return o})(),ye=new x("MatBottomSheetData"),Ce=class{viewContainerRef;injector;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight},O=class{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new y;_result;_closeFallbackTimeout;constructor(n,e,t){this._ref=n,this.containerInstance=t,this.disableClose=e.disableClose,t._animationStateChanged.pipe(T(i=>i.phase==="done"&&i.toState==="visible"),k(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(T(i=>i.phase==="done"&&i.toState==="hidden"),k(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),n.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),Ae(this.backdropClick(),this.keydownEvents().pipe(T(i=>i.keyCode===27))).subscribe(i=>{!this.disableClose&&(i.type!=="keydown"||!Z(i))&&(i.preventDefault(),this.dismiss())})}dismiss(n){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(T(e=>e.phase==="start"),k(1)).subscribe(()=>{this._closeFallbackTimeout=setTimeout(()=>this._ref.close(this._result),500),this._ref.overlayRef.detachBackdrop()}),this._result=n,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},Gt=new x("mat-bottom-sheet-default-options"),xe=(()=>{class o{_injector=l(b);_parentBottomSheet=l(o,{optional:!0,skipSelf:!0});_animationsDisabled=pe();_defaultOptions=l(Gt,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=l(ve);get _openedBottomSheetRef(){let e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}constructor(){}open(e,t){let i=_(_({},this._defaultOptions||new Ce),t),a;return this._dialog.open(e,le(_({},i),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:$t,scrollStrategy:i.scrollStrategy||ie(this._injector),positionStrategy:ne(this._injector).centerHorizontally().bottom("0"),disableAnimations:this._animationsDisabled,templateContext:()=>({bottomSheetRef:a}),providers:(c,m,p)=>(a=new O(c,i,p),[{provide:O,useValue:a},{provide:ye,useValue:i.data}])})),a.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===a&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>a.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):a.containerInstance.enter(),this._openedBottomSheetRef=a,a}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(t){return new(t||o)};static \u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Tt=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=V({type:o});static \u0275inj=z({providers:[xe],imports:[Dt,F,lt]})}return o})();var re=class o{constructor(n,e,t){this.ref=n;this.data=e;this.snack=t}async share(){try{navigator.share?(await navigator.share({title:this.data.title,url:this.data.url}),this.close()):this.copyLink()}catch(n){console.error("Share failed",n),this.snack.open("Impossible de partager","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]})}}async copyLink(){try{await navigator.clipboard.writeText(this.data.url),this.snack.open("Lien copi\xE9","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]}),this.close()}catch(n){console.error("Copy failed",n),this.snack.open("Erreur lors de la copie","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]})}}saveFav(){try{let n="saved-articles",e=localStorage.getItem(n),t=e?JSON.parse(e):[];t.includes(this.data.slug)?this.snack.open("Article d\xE9j\xE0 en favori","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]}):(t.push(this.data.slug),localStorage.setItem(n,JSON.stringify(t)),this.snack.open("Article ajout\xE9 aux favoris","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]})),this.close()}catch(n){console.error("Save failed",n),this.snack.open("Erreur pour ajouter l'article aux favoris","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]})}}formatReadingTime(n){return!n&&n!==0?"":`${n} min lecture`}close(){this.ref.dismiss()}static \u0275fac=function(e){return new(e||o)(H(O),H(ye),H(oe))};static \u0275cmp=C({type:o,selectors:[["app-article-actions-sheet"]],decls:25,vars:1,consts:[[1,"article-actions-sheet"],[1,"sheet-title"],[1,"sheet-subtitle"],[1,"sheet-actions"],["mat-button","",3,"click"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"h3",1),d(2,"Options"),s(),r(3,"p",2),d(4),s(),r(5,"div",3)(6,"button",4),h("click",function(){return t.share()}),r(7,"mat-icon"),d(8,"share"),s(),r(9,"span"),d(10,"Partager"),s()(),r(11,"button",4),h("click",function(){return t.copyLink()}),r(12,"mat-icon"),d(13,"link"),s(),r(14,"span"),d(15,"Copier le lien"),s()(),r(16,"button",4),h("click",function(){return t.saveFav()}),r(17,"mat-icon"),d(18,"star_shine"),s(),r(19,"span"),d(20,"Favoris"),s()(),r(21,"button",4),h("click",function(){return t.close()}),r(22,"mat-icon"),d(23,"close"),s(),d(24,"Fermer"),s()()()),e&2&&(u(4),f(t.data.title))},dependencies:[X,K,J,te,ee,ae],styles:[".sheet-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;gap:10px}.sheet-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:medium}"]})};var Qt=["headline"],Wt=()=>[1,2,3,4,5],Xt=(o,n)=>n.slug;function Yt(o,n){o&1&&Q(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",14)(4,"div",14)(5,"div",14)(6,"div",14)(7,"div",12)(8,"div",15)}function Zt(o,n){o&1&&(r(0,"article",10),me(1,Yt,9,0,null,null,Fe),s()),o&2&&(u(),ue(Qe(0,Wt)))}function Jt(o,n){if(o&1&&(r(0,"span",24)(1,"time",29),d(2),s()()),o&2){let e=g(2);u(),D("datetime",e.date),u(),f(e.date)}}function Kt(o,n){if(o&1){let e=je();r(0,"div",19)(1,"span",23)(2,"mat-icon"),d(3,"schedule"),s(),d(4),s(),M(5,Jt,3,2,"span",24),r(6,"div",25)(7,"button",26),h("click",function(i){w(e);let a=g(2);return P(a.onActionsClick(i))}),r(8,"mat-icon"),d(9,"share"),s()(),r(10,"mat-menu",null,1)(12,"button",27),h("click",function(){w(e);let i=g(2);return P(i.shareArticle())}),r(13,"mat-icon"),d(14,"share"),s(),r(15,"span"),d(16,"Partager"),s()(),r(17,"button",27),h("click",function(){w(e);let i=g(2);return P(i.copyArticleLink())}),r(18,"mat-icon"),d(19,"link"),s(),r(20,"span"),d(21,"Copier le lien"),s()(),r(22,"button",27),h("click",function(){w(e);let i=g(2);return P(i.saveFav())}),r(23,"mat-icon"),d(24),s(),r(25,"span"),d(26),s()()()(),r(27,"button",28),h("click",function(){w(e);let i=g(2);return P(i.openArticleActions())}),r(28,"mat-icon"),d(29,"share"),s()()()}if(o&2){let e=Ve(11),t=g(),i=g();u(4),Ue(" ",i.getReadingTimeText(t.readingTime)," "),u(),S(t.date?5:-1),u(2),I("matMenuTriggerFor",e),u(17),f((i.isSaved(),"star_shine")),u(2),f(i.isSaved()?"Retirer des favoris":"Ajouter aux favoris")}}function ei(o,n){if(o&1&&Q(0,"img",31),o&2){let e=g(2);I("src",e.author.image,Te)("alt",e.author.name)}}function ti(o,n){o&1&&(r(0,"div",32)(1,"mat-icon"),d(2,"account_circle"),s()())}function ii(o,n){if(o&1&&(r(0,"aside",21)(1,"div",30),M(2,ei,1,2,"img",31)(3,ti,3,0,"div",32),r(4,"div",33)(5,"h3",34),d(6),s(),r(7,"p",35),d(8),s(),r(9,"p",36),d(10),s()()()()),o&2){let e=g();u(2),S(e.author.image?2:3),u(4),f(e.author.name),u(2),f(e.author.title),u(2),f(e.author.bio)}}function ni(o,n){if(o&1&&Q(0,"app-blog-article-card",39),o&2){let e=n.$implicit;I("article",e)}}function oi(o,n){if(o&1&&(r(0,"section",22)(1,"h2",37),R(2,4),s(),r(3,"div",38),me(4,ni,1,1,"app-blog-article-card",39,Xt),s()()),o&2){let e=g(2);u(4),ue(e.similarArticles())}}function ai(o,n){if(o&1&&(r(0,"article",16)(1,"h1",17,0),d(3),s(),r(4,"p",18),d(5),s(),M(6,Kt,30,5,"div",19),r(7,"div",20),Le("enter-slide-fade-animation"),s(),M(8,ii,11,4,"aside",21),s(),M(9,oi,6,0,"section",22)),o&2){let e=n,t=g();u(3),f(e.title||"Article non trouv\xE9"),u(2),f(e.summary||"Aucun r\xE9sum\xE9 disponible"),u(),S(e.readingTime?6:-1),u(),I("innerHTML",e.content,Oe),u(),S(e.author?8:-1),u(),S(t.similarArticles().length>0?9:-1)}}function ri(o,n){o&1&&(r(0,"p",11),R(1,5),s())}var It=class o{blogData=l(Ct);route=l(Ze);location=l(Ye);metaService=l(yt);readingTimeService=l(ct);platformId=l(Ee);slug=wt(this.route.paramMap.pipe(Me(n=>n.get("slug"))),{initialValue:this.route.snapshot.paramMap.get("slug")});headline=We("headline");loading=v(!0);article=v(void 0);lastScrolledSlug=v(null);similarArticles=W(()=>{let n=this.article();return n?this.blogData.articles().filter(t=>t.slug!==n.slug).filter(t=>(n.similarSlugs??[]).includes(t.slug)).slice(0,3):[]});bottomSheet=l(xe);savedService=l(dt);snack=l(oe);constructor(){this.blogData.loadArticles(),G(()=>{let n=this.slug(),e=this.blogData.articles();if(this.blogData.loading()||e.length===0){this.loading.set(!0);return}let i=n?this.blogData.getBySlug(n):void 0;this.loading.set(!0),this.article.set(i),this.loading.set(!1),i&&this.metaService.updateArticleMeta(i.title,i.summary)}),G(()=>{let n=this.article(),e=this.slug(),t=this.headline();!n||!e||!t||!B(this.platformId)||this.lastScrolledSlug()!==e&&(this.lastScrolledSlug.set(e),queueMicrotask(()=>{requestAnimationFrame(()=>{let i=t.nativeElement;i.style.scrollMarginTop="90px",i.scrollIntoView({behavior:"smooth",block:"start"})})}))})}goBack(){this.location.back()}getReadingTimeText(n){return this.readingTimeService.formatReadingTime(n)}openArticleActions(){let n=this.article();if(!n||!B(this.platformId)||!window.matchMedia("(max-width: 768px)").matches)return;let t=`${this.getBaseUrl()}/blog/${n.slug}`;this.bottomSheet.open(re,{data:{slug:n.slug,title:n.title,url:t,readingTime:n.readingTime},panelClass:"article-actions-sheet-panel"})}onActionsClick(n){if(!B(this.platformId))return;window.matchMedia("(max-width: 768px)").matches&&(n.stopPropagation(),this.openArticleActions())}async shareArticle(){let n=this.article();if(!n)return;let e=`${this.getBaseUrl()}/blog/${n.slug}`;try{navigator.share?(await navigator.share({title:n.title,url:e}),this.snack.open("Partage lanc\xE9","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]})):(await navigator.clipboard.writeText(e),this.snack.open("Lien copi\xE9","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]}))}catch(t){console.error("Share failed",t),this.snack.open("Impossible de partager","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]})}}async copyArticleLink(){let n=this.article();if(!n)return;let e=`${this.getBaseUrl()}/blog/${n.slug}`;try{await navigator.clipboard.writeText(e),this.snack.open("Lien copi\xE9","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]})}catch(t){console.error("Copy failed",t),this.snack.open("Erreur lors de la copie","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]})}}saveFav(){let n=this.article();if(!n)return;let e=this.savedService.toggle(n.slug);this.snack.open(e?"Article enregistr\xE9":"Article supprim\xE9","",{duration:2e3,verticalPosition:"top",panelClass:["favorite-snack-animation"]})}isSaved(){let n=this.article();return n?this.savedService.isSaved(n.slug):!1}getBaseUrl(){return B(this.platformId)?`${window.location.protocol}//${window.location.host}`:""}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-article-page"]],viewQuery:function(e,t){e&1&&Ge(t.headline,Qt,5),e&2&&He()},decls:12,vars:1,consts:()=>{let n;n=$localize`:Blog page|Back to blog link:Retour`;let e;e=$localize`:Home page|View all articles link: Voir tous les articles `;let t;t=$localize`:Blog page|Similar articles heading:Articles similaires`;let i;return i=$localize`:Blog page|Article not found error:Article introuvable`,[["headline",""],["actionsMenu","matMenu"],n,e,t,i,[1,"container","blog-page"],[1,"blog-header"],["mat-button","","aria-label","Revenir \xE0 la page pr\xE9c\xE9dente",1,"back-button",3,"click"],["routerLink","/blog","mat-flat-button","","color","primary"],["aria-busy","true",1,"blog-post","article-skeleton"],[1,"mat-body-1"],[1,"skeleton-title"],[1,"skeleton-summary"],[1,"skeleton-line"],[1,"skeleton-line","short"],["itemscope","","itemtype","https://schema.org/BlogPosting",1,"blog-post"],["itemprop","headline",1,"mat-display-2"],["itemprop","description",1,"mat-headline-5"],[1,"article-meta"],["itemprop","articleBody",1,"blog-content",3,"innerHTML"],["itemprop","author","itemscope","","itemtype","https://schema.org/Person",1,"author-bio-section"],["aria-label","Articles similaires",1,"similar-articles"],[1,"reading-time-badge"],[1,"article-date"],[1,"desktop-only"],["mat-icon-button","","aria-label","Actions",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-icon-button","","aria-label","Actions mobile",1,"mobile-only",3,"click"],["itemprop","datePublished"],[1,"author-bio-container"],["itemprop","image",1,"author-image",3,"src","alt"],[1,"author-avatar"],[1,"author-info"],["itemprop","name",1,"author-name"],["itemprop","jobTitle",1,"author-title"],["itemprop","description",1,"author-bio"],[1,"similar-title"],["animateText","fade",1,"similar-grid"],[3,"article"]]},template:function(e,t){if(e&1&&(r(0,"main",6)(1,"div",7)(2,"button",8),h("click",function(){return t.goBack()}),r(3,"mat-icon"),d(4,"arrow_back"),s(),r(5,"span"),R(6,2),s()(),r(7,"a",9),R(8,3),s()(),M(9,Zt,3,1,"article",10)(10,ai,10,6)(11,ri,2,0,"p",11),s()),e&2){let i;u(9),S(t.loading()?9:(i=t.article())?10:11,i)}},dependencies:[X,Ke,Je,K,J,st,te,ee,bt,vt,Tt,kt,St,Mt,At,xt,ae],styles:[".blog-page[_ngcontent-%COMP%]{padding-bottom:clamp(1rem,3vw,2.5rem)}.blog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;padding:1rem 4rem}.mobile-only[_ngcontent-%COMP%]{display:none}@media(max-width:768px){.mobile-only[_ngcontent-%COMP%]{display:block}}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}}.blog-post[_ngcontent-%COMP%]{background:#fff;border-radius:clamp(.75rem,2vw,1.25rem);box-shadow:0 2px 12px #0000000f;padding:clamp(1rem,4vw,2.5rem);margin:0 auto clamp(1rem,3vw,2.5rem) auto;font-size:clamp(1.02rem,1.1vw,1.15rem);line-height:1.5;max-width:1200px}.blog-post[_ngcontent-%COMP%]     h1{color:var(--mat-button-filled-container-color);margin-top:2rem;margin-bottom:1rem;font-weight:600}.blog-content[_ngcontent-%COMP%]{text-wrap:pretty;word-break:normal;-webkit-hyphens:auto;hyphens:auto}.blog-content[_ngcontent-%COMP%]     h2{color:var(--mat-button-filled-container-color);margin-top:2rem;margin-bottom:1rem;font-size:1.85rem;font-weight:600;line-height:1.25}.blog-content[_ngcontent-%COMP%]     p{line-height:1.5;margin-bottom:1.25rem;margin-top:.5rem!important}.blog-content[_ngcontent-%COMP%]     li{line-height:1.2;margin-bottom:1rem}.blog-content[_ngcontent-%COMP%]     a{text-decoration:underline;text-underline-offset:3px}.blog-content[_ngcontent-%COMP%]     blockquote{margin:1.5rem 0;padding:.75rem 1rem;border-left:4px solid var(--mat-sys-primary);background:var(--mat-sys-surface-container-low)}.blog-content[_ngcontent-%COMP%]     ul, .blog-content[_ngcontent-%COMP%]     ol{padding-left:3rem;margin-bottom:1.25rem}.mat-display-2[_ngcontent-%COMP%]{color:var(--mat-primary-color);margin-bottom:clamp(1rem,2vw,1.5rem);font-size:clamp(1.6rem,4.2vw,2.7rem);line-height:1.2}.mat-headline-5[_ngcontent-%COMP%]{color:var(--mat-text-secondary-color);margin-bottom:clamp(.75rem,2vw,1.5rem);font-size:clamp(1.15rem,2.7vw,1.35rem);line-height:1.5}.article-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:clamp(1rem,3vw,2rem);padding-bottom:clamp(.75rem,2vw,1rem);border-bottom:1px solid var(--mat-divider-color);flex-wrap:wrap}.reading-time-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .75rem;border-radius:1rem;font-size:.875rem;color:var(--mat-text-secondary-color)}.reading-time-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;line-height:1rem}.article-date[_ngcontent-%COMP%]{font-size:.875rem;color:var(--mat-text-secondary-color)}.author-bio-section[_ngcontent-%COMP%]{margin-top:clamp(2rem,4vw,3rem);padding:clamp(1.5rem,3vw,2rem);border-radius:clamp(.75rem,2vw,1rem);border:1px solid var(--mat-divider-color)}.author-bio-container[_ngcontent-%COMP%]{display:flex;gap:clamp(1rem,3vw,1.5rem);align-items:flex-start}.author-image[_ngcontent-%COMP%], .author-avatar[_ngcontent-%COMP%]{flex-shrink:0;width:clamp(80px,15vw,120px);height:clamp(80px,15vw,120px);border-radius:50%;object-fit:cover;background:var(--mat-primary-color);display:flex;align-items:center;justify-content:center}.author-image.author-image[_ngcontent-%COMP%], .author-avatar.author-image[_ngcontent-%COMP%]{border:2px solid var(--mat-primary-color)}.author-avatar[_ngcontent-%COMP%]{border:2px solid var(--mat-primary-color);color:var(--mat-primary-color)}.author-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;line-height:3rem}.author-info[_ngcontent-%COMP%]{flex:1;min-width:0}.author-name[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:clamp(1.1rem,2vw,1.3rem);font-weight:600;color:var(--mat-primary-color)}.author-title[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.95rem;font-weight:500;color:var(--mat-text-secondary-color)}.author-bio[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:var(--mat-text-secondary-color);line-height:1.6}@media(max-width:600px){.author-bio-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.author-image[_ngcontent-%COMP%], .author-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.author-info[_ngcontent-%COMP%]{width:100%}.blog-content[_ngcontent-%COMP%]{max-width:100%}.blog-content[_ngcontent-%COMP%]     h1{text-align:left;margin-top:1rem;font-size:1.6rem}.blog-content[_ngcontent-%COMP%]     h2{text-align:left;margin-top:1rem;font-size:1.4rem}.blog-content[_ngcontent-%COMP%]     h3{text-align:left;margin-top:1rem;font-size:1.2rem}.blog-content[_ngcontent-%COMP%]     h4{text-align:left;margin-bottom:0rem!important}.blog-content[_ngcontent-%COMP%]     li{text-align:left}}.article-skeleton[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:500px}.article-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], .article-skeleton[_ngcontent-%COMP%]   .skeleton-summary[_ngcontent-%COMP%], .article-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{border-radius:.25rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.article-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{height:clamp(1.5rem,3vw,2.25rem);width:75%}.article-skeleton[_ngcontent-%COMP%]   .skeleton-summary[_ngcontent-%COMP%]{height:clamp(1rem,2.5vw,1.5rem);width:95%}.article-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:.9rem;width:100%}.article-skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:65%}.similar-articles[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.similar-title[_ngcontent-%COMP%]{font-size:clamp(1.1rem,3vw,1.5rem);font-weight:600;margin:0 0 1rem;color:var(--mat-primary-color)}.similar-grid[_ngcontent-%COMP%]{gap:clamp(1rem,3vw,1.5rem);display:flex;flex-direction:column;align-items:stretch}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@media(max-width:1100px){.similar-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:1rem}}@media(max-width:450px){.container[_ngcontent-%COMP%], .blog-header[_ngcontent-%COMP%]{padding:1rem!important}.blog-post[_ngcontent-%COMP%]{padding:1rem;margin:0 auto 1rem;border-radius:.5rem}.mat-display-2[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}.mat-headline-5[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}}"]})};export{It as ArticlePage};
