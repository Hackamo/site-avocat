import{b as F,c as V}from"./chunk-WH6XTSDT.js";import{a as Q,e as j,g as H,i as Y,j as J}from"./chunk-2RXV3NXZ.js";import"./chunk-BEYFKK2N.js";import{a as X}from"./chunk-7R6EXMM5.js";import"./chunk-LWZDSZ7I.js";import{l as D}from"./chunk-GUJQPU3W.js";import{a as q}from"./chunk-CJEHABRL.js";import{j as N,k as z}from"./chunk-PCVNYECP.js";import{Ab as M,Ba as y,Bb as h,Db as O,Dc as S,Eb as p,Fb as f,Gb as s,Gc as I,Hb as r,Ib as i,Jb as E,Ob as B,Ub as g,Xa as l,Y as _,Yb as P,_b as L,ba as u,ca as C,gc as A,hc as G,kb as x,mc as $,nc as w,oa as b,vc as k,wc as R,zb as T}from"./chunk-EICM4YS7.js";var U=["filtersSection"],W=()=>[1,2,3],Z=(o,t)=>t.slug;function ee(o,t){if(o&1&&(r(0,"mat-option",16),$(1),i()),o&2){let e=t.$implicit;s("value",e),l(),w(e)}}function te(o,t){o&1&&(r(0,"div",20),E(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24),i())}function ne(o,t){o&1&&p(0,te,5,0,"div",20,O),o&2&&f(R(0,W))}function oe(o,t){if(o&1&&(r(0,"app-blog-article-card",25),T("enter-slide-fade-animation"),i()),o&2){let e=t.$implicit;s("article",e)}}function ie(o,t){if(o&1&&p(0,oe,1,1,"app-blog-article-card",25,Z),o&2){let e=L();f(e.articles())}}function re(o,t){o&1&&(r(0,"p",19),g(1,6),i())}var K=class o{blogData=_(V);metaService=_(q);platformId=_(y);loading=this.blogData.loading;selectedCategory=b("all");searchText=b("");filtersSection=I("filtersSection");allArticles=this.blogData.articles;categories=S(()=>{let t=this.allArticles();return[...new Set(t.map(n=>n.category))].sort()});articles=S(()=>{let t=this.selectedCategory(),e=this.searchText().toLowerCase(),n=this.allArticles();return t!=="all"&&(n=n.filter(a=>a.category===t)),e&&(n=n.filter(a=>a.title.toLowerCase().includes(e)||a.summary.toLowerCase().includes(e)||a.category.toLowerCase().includes(e))),n});onCategoryChange(t){this.selectedCategory.set(t)}onSearchChange(t){let e=t.target.value;if(this.searchText.set(e),z(this.platformId)){let n=this.filtersSection();n&&requestAnimationFrame(()=>{n.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})})}}ngOnInit(){this.metaService.updateMetaTags("blog"),this.blogData.loadArticles()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["app-blog"]],viewQuery:function(e,n){e&1&&A(n.filtersSection,U,5),e&2&&G()},features:[k([])],decls:25,vars:4,consts:()=>{let t;t=$localize`:Blog page|Search placeholder:Titre, résumé, catégorie...`;let e;e=$localize`:Blog page|Page title:Blog`;let n;n=$localize`:Blog page|Page subtitle: Actualités et conseils en droit des étrangers `;let a;a=$localize`:Blog page|Search label:Rechercher`;let m;m=$localize`:Blog page|Category filter label:Filtrer par catégorie`;let c;c=$localize`:Blog page|All categories option:Toutes`;let v;return v=$localize`:Blog page|No articles message:Aucun article disponible.`,[["filtersSection",""],e,n,a,m,c,v,[1,"container","blog-page"],[1,"page-header"],[1,"mat-display-2"],["animateText","fade",1,"mat-headline-5"],[1,"blog-filters"],["appearance","outline",1,"filter-field"],["matInput","","type","text","placeholder",t,3,"input","value"],[3,"selectionChange","value"],["value","all"],[3,"value"],[1,"blog-list"],[1,"blog-cards"],["animateText","fade",1,"mat-body-1"],[1,"blog-card-skeleton"],[1,"skeleton-image"],[1,"skeleton-title"],[1,"skeleton-text"],[1,"skeleton-text","short"],["animateOnEnter","fade",3,"article"]]},template:function(e,n){if(e&1){let a=B();r(0,"main",7)(1,"header",8)(2,"h1",9),g(3,1),i(),r(4,"p",10),g(5,2),i()(),r(6,"section",11,0)(8,"mat-form-field",12)(9,"mat-label"),g(10,3),i(),r(11,"input",13),P("input",function(c){return u(a),C(n.onSearchChange(c))}),i()(),r(12,"mat-form-field",12)(13,"mat-label"),g(14,4),i(),r(15,"mat-select",14),P("selectionChange",function(c){return u(a),C(n.onCategoryChange(c.value))}),r(16,"mat-option",15),g(17,5),i(),p(18,ee,2,2,"mat-option",16,O),i()()(),r(20,"section",17)(21,"div",18),M(22,ne,2,1)(23,ie,2,0),i(),M(24,re,2,0,"p",19),i()()}e&2&&(l(11),s("value",n.searchText()),l(4),s("value",n.selectedCategory()),l(3),f(n.categories()),l(4),h(n.loading()?22:23),l(2),h(!n.articles().length&&!n.loading()?24:-1))},dependencies:[N,D,F,X,j,Q,J,Y,H],styles:[".page-header[_ngcontent-%COMP%]{padding-left:1.5rem}.blog-page[_ngcontent-%COMP%]   .blog-filters[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;padding-left:1.5rem}.blog-page[_ngcontent-%COMP%]   .blog-filters[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{flex:1;min-width:200px}.blog-page[_ngcontent-%COMP%]   .blog-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin-top:2rem}.blog-page[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:block;width:340px;max-width:100%;border-radius:1.25rem;transition:transform .18s cubic-bezier(.4,0,.2,1),box-shadow .18s cubic-bezier(.4,0,.2,1);margin-bottom:2rem;margin-top:0;box-shadow:0 1px #00000008}.blog-page[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{height:100%;border-radius:1.25rem;box-shadow:0 4px 24px #0000001a;border:1.5px solid var(--mat-divider-color, #e0e0e0);background:var(--mat-card-background, #fff);display:flex;flex-direction:column;min-height:180px;padding:1.25rem 1.5rem;transition:box-shadow .18s cubic-bezier(.4,0,.2,1),border-color .18s cubic-bezier(.4,0,.2,1)}.blog-page[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0;margin-bottom:.5rem}.blog-page[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.18rem;font-weight:600;color:var(--mat-primary-color);letter-spacing:.01em}.blog-page[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{font-size:1rem;color:var(--mat-text-secondary-color);margin-top:.25rem}.blog-page[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]:hover   mat-card[_ngcontent-%COMP%]{box-shadow:0 8px 32px #00000029;border-color:var(--mat-primary-color, #1976d2);transform:translateY(-6px) scale(1.035)}.blog-page[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{height:100%;border-radius:1.25rem;box-shadow:0 4px 24px #0000001a;border:1.5px solid var(--mat-divider-color, #e0e0e0);background:var(--mat-card-background, #fff);display:flex;flex-direction:column;min-height:180px;padding:1.25rem 1.5rem;transition:box-shadow .18s cubic-bezier(.4,0,.2,1),border-color .18s cubic-bezier(.4,0,.2,1)}.blog-page[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0;margin-bottom:.5rem}.blog-page[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.18rem;font-weight:600;color:var(--mat-primary-color);letter-spacing:.01em}.blog-page[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{font-size:1rem;color:var(--mat-text-secondary-color);margin-top:.25rem}.blog-page[_ngcontent-%COMP%]:hover   mat-card[_ngcontent-%COMP%]{box-shadow:0 8px 32px #00000029;border-color:var(--mat-primary-color, #1976d2);transform:translateY(-6px) scale(1.035)}.blog-page[_ngcontent-%COMP%]   .blog-card-skeleton[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-radius:1.25rem;background:var(--mat-card-background, #fff);display:flex;flex-direction:column;gap:1rem;min-height:150px;margin-bottom:2rem}.blog-page[_ngcontent-%COMP%]   .blog-card-skeleton[_ngcontent-%COMP%]   .skeleton-image[_ngcontent-%COMP%]{width:100%;height:150px;border-radius:.5rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.blog-page[_ngcontent-%COMP%]   .blog-card-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{width:70%;height:1.25rem;border-radius:.25rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.blog-page[_ngcontent-%COMP%]   .blog-card-skeleton[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]{width:100%;height:.875rem;border-radius:.25rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.blog-page[_ngcontent-%COMP%]   .blog-card-skeleton[_ngcontent-%COMP%]   .skeleton-text.short[_ngcontent-%COMP%]{width:60%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}"]})};export{K as Blog};
